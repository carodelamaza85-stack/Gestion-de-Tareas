<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TaskFlow â€” GestiÃ³n de Tareas</title>
  <!--
    Fuentes: DM Serif Display (tÃ­tulos elegantes) + DM Sans (cuerpo limpio)
  -->
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=DM+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- â–‘â–‘ FONDO CON GRID â–‘â–‘ -->
  <div class="bg-grid"></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BARRA SUPERIOR â€” HUD de la aplicaciÃ³n
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <header class="topbar">
    <div class="topbar-brand">
      <div class="brand-dot"></div>
      <span class="brand-name">TaskFlow</span>
    </div>

    <!-- Contadores en tiempo real -->
    <div class="topbar-stats">
      <div class="stat-chip">
        <span class="stat-num" id="statTotal">0</span>
        <span class="stat-lbl">Total</span>
      </div>
      <div class="stat-chip chip-verde">
        <span class="stat-num" id="statCompletadas">0</span>
        <span class="stat-lbl">Listas</span>
      </div>
      <div class="stat-chip chip-rojo">
        <span class="stat-num" id="statPendientes">0</span>
        <span class="stat-lbl">Pendientes</span>
      </div>
    </div>

    <!-- Reloj en tiempo real (setInterval) -->
    <div class="topbar-reloj" id="reloj">--:--:--</div>
  </header>

  <main class="layout">

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         PANEL IZQUIERDO â€” Formulario
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <aside class="panel-form">

      <h2 class="panel-titulo">Nueva Tarea</h2>

      <!--
        PASO 3: Formulario HTML con evento submit.
        Cada campo tiene un id para leerlo en JavaScript.
      -->
      <form id="formTarea" class="formulario" novalidate>

        <!-- DescripciÃ³n -->
        <div class="campo">
          <label for="inputDescripcion" class="campo-label">DescripciÃ³n *</label>
          <textarea
            id="inputDescripcion"
            class="campo-input textarea"
            placeholder="Â¿QuÃ© hay que hacer?"
            rows="3"
            required
          ></textarea>
          <!-- Contador de caracteres en tiempo real (keyup) -->
          <span class="char-counter" id="charCounter">0 / 120</span>
        </div>

        <!-- Prioridad -->
        <div class="campo">
          <label for="selectPrioridad" class="campo-label">Prioridad</label>
          <select id="selectPrioridad" class="campo-input">
            <option value="baja">ğŸŸ¢ Baja</option>
            <option value="media" selected>ğŸŸ¡ Media</option>
            <option value="alta">ğŸ”´ Alta</option>
          </select>
        </div>

        <!-- Fecha lÃ­mite -->
        <div class="campo">
          <label for="inputFecha" class="campo-label">Fecha lÃ­mite</label>
          <input type="date" id="inputFecha" class="campo-input">
        </div>

        <!-- BotÃ³n submit -->
        <button type="submit" class="btn-agregar" id="btnAgregar">
          <span id="btnTexto">ï¼‹ Agregar Tarea</span>
        </button>

      </form>

      <!-- Separador -->
      <div class="separador"></div>

      <!-- Botones de API / Storage -->
      <div class="acciones-api">
        <p class="acciones-titulo">API & Almacenamiento</p>

        <!--
          PASO 5: Botones para operaciones con API y LocalStorage
        -->
        <button class="btn-api" id="btnCargarAPI" onclick="gestorTareas.cargarDesdeAPI()">
          â†“ Cargar desde API
        </button>
        <button class="btn-api btn-api-outline" id="btnGuardarStorage" onclick="gestorTareas.guardarEnStorage()">
          ğŸ’¾ Guardar en Storage
        </button>
        <button class="btn-api btn-api-outline" id="btnCargarStorage" onclick="gestorTareas.cargarDesdeStorage()">
          ğŸ“‚ Cargar desde Storage
        </button>
        <button class="btn-api btn-api-danger" onclick="gestorTareas.limpiarTodo()">
          ğŸ—‘ Limpiar todo
        </button>
      </div>
    </aside>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         PANEL DERECHO â€” Lista de tareas
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="panel-lista">

      <!-- Barra de filtros -->
      <div class="filtros-bar">
        <h2 class="panel-titulo">Mis Tareas</h2>
        <div class="filtros-chips">
          <button class="filtro-chip activo" data-filtro="todas" onclick="gestorTareas.filtrar('todas', this)">Todas</button>
          <button class="filtro-chip" data-filtro="pendiente" onclick="gestorTareas.filtrar('pendiente', this)">Pendientes</button>
          <button class="filtro-chip" data-filtro="completada" onclick="gestorTareas.filtrar('completada', this)">Completadas</button>
        </div>
      </div>

      <!-- NotificaciÃ³n flotante (setTimeout) -->
      <div class="notificacion hidden" id="notificacion">
        <span id="notificacionTexto"></span>
      </div>

      <!-- Estado vacÃ­o -->
      <div class="estado-vacio" id="estadoVacio">
        <div class="vacio-icono">ğŸ“‹</div>
        <p class="vacio-texto">Sin tareas aÃºn.<br>Â¡Crea la primera!</p>
      </div>

      <!--
        PASO 3: Lista que el DOM llenarÃ¡ dinÃ¡micamente.
        JavaScript insertarÃ¡ un <li> por cada tarea.
      -->
      <ul class="lista-tareas" id="listaTareas"></ul>

    </section>

  </main>

  <!--
    Conectamos app.js AL FINAL del body para que
    el HTML estÃ© completamente cargado antes de que
    JavaScript intente encontrar los elementos.
  -->
  <script src="app.js"></script>
</body>
</html>